/**
 * Tiny tiny_elediastyles plugin.
 *
 * @module      tiny_elediastyles/plugin
 * @copyright   2025 Alex Schander <alexander.schander@eledia.de>
 * @license     http://www.gnu.org/copyleft/gpl.html GNU GPL v3 or later
 */
define(["editor_tiny/loader","editor_tiny/utils","tiny_elediastyles/common","tiny_elediastyles/options","tiny_elediastyles/commands","tiny_elediastyles/configuration"],(function(e,n,t,i,r,o){return new Promise((function(l){Promise.all([e.getTinyMCE(),n.getPluginMetadata(t.component,t.pluginName),r.getSetup()]).then((function(e){var n=e[0],r=e[1],a=e[2];return n.PluginManager.add(t.pluginName,(function(e){return i.register(e),a(e),e.on("init",(function(){!function(e){try{var n=e.getDoc();if(!n||!n.head)return;var t=Array.from(n.querySelectorAll('link[rel="stylesheet"]')),i=t.find((function(e){return e&&"string"==typeof e.href&&/\/theme\/styles\.php\/[^/]+\/[^/]+\/editor$/.test(e.href)}));if(!i)return void window.console.warn("[tiny_elediastyles] No editor stylesheet found in the iframe.");var r=i.href.replace(/\/editor$/,"/all");if(t.some((function(e){return e&&e.href===r})))return;var o=n.createElement("link");o.rel="stylesheet",o.href=r,n.head.appendChild(o),window.console.log("[tiny_elediastyles] Injected theme ALL CSS into Tiny iframe:",r)}catch(e){window.console.error("[tiny_elediastyles] injectThemeAllCss error:",e)}}(e)})),r})),l([t.pluginName,o])})).catch((function(e){return window.console.error("Error during plugin setup:",e),l([t.pluginName,o])}))}))}));
//# sourceMappingURL=plugin.min.js.map